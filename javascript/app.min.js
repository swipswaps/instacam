!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r(1),e.exports=r(2)},function(e,t,r){"use strict";let n=document.querySelector(".camera-log"),o=document.querySelector(".camera-input"),a=document.querySelector(".camera-output"),u=new Instacam(document.querySelector("canvas"),{sound:!0,volume:0,done:()=>{n.innerHTML="Instacam is working fine."},fail:e=>{n.innerHTML=`Sorry, Instacam failed to start because you didn't accept the requested permissions to access your camera, or something went wrong. <strong class="camera-log-error">Error: ${e.message}</strong>`},unsupported:()=>{n.innerHTML="Sorry, but it seems that your browser is not supporting requestAnimationFrame, mediaDevices or Promises. Try Instacam in another browser."}});function l(){document.querySelector('[name="quality"]').removeAttribute("disabled"),document.querySelector(".size").classList.remove("disabled");let e=u.save(document.querySelector('[name="format"]:checked').value,Number.parseFloat(document.querySelector('[name="quality"]').value)),t=document.createElement("img");t.setAttribute("src",e),t.classList.add("camera-output-image"),a.innerHTML="",a.appendChild(t),document.querySelector(".size span").innerHTML=Math.round(3*e.length/4/1024)}Array.from(document.querySelectorAll('.field-property + [type="range"]')).forEach(e=>{const t=e.parentNode.querySelector(".field-value");e.setAttribute("data-default",e.value),e.addEventListener("input",()=>{if(t.innerHTML=e.value,u[e.name]=Number.parseFloat(e.value),"volume"===e.name){const t=document.querySelector(".volume-state use");e.value<30?t.setAttribute("xlink:href","picture/sprite.svg#volume-mute"):e.value>=30&&e.value<=70?t.setAttribute("xlink:href","picture/sprite.svg#volume-down"):e.value>70&&t.setAttribute("xlink:href","picture/sprite.svg#volume-up")}}),["mousedown","touchstart"].forEach(r=>{e.addEventListener(r,()=>{t.innerHTML=e.value,t.classList.add("field-update")},{passive:!0})}),["mouseup","touchend"].forEach(r=>{e.addEventListener(r,()=>{t.classList.remove("field-update")})})}),Array.from(document.querySelectorAll('[name="blend"]')).forEach(e=>{e.addEventListener("change",()=>{u.blend="none"===e.value?{}:{mode:e.value,color:getComputedStyle(o).getPropertyValue("background-color")}})}),Array.from(document.querySelectorAll('[name="filter"]')).forEach(e=>{e.addEventListener("change",()=>{const t={none:null,noise:e=>{let t=Math.random();return[t*e.red,t*e.green,t*e.blue,e.alpha]},grayscale:e=>{let t=.2126*e.red+.7152*e.green+.0722*e.blue;return[t,t,t,e.alpha]},invert:e=>[255-e.red,255-e.green,255-e.blue,e.alpha],threshold:e=>.2126*e.red+.7152*e.green+.0722*e.blue>=100?[255,255,255,255]:[0,0,0,255],sobel:e=>{let t=Math.abs(e.x),r=Math.abs(e.y);return[e.red+t,e.green+r,e.blue+(t+r)/4,255]},pixel:e=>e.offset%10!=0?[window.red,window.green,window.blue,255]:(window.red=e.red,window.green=e.green,window.blue=e.blue,[e.red,e.green,e.blue,255])};u.filter=t[e.value]})}),Array.from(document.querySelectorAll('[name="mirror"]')).forEach(e=>{e.addEventListener("change",()=>{u.mirror="1"===e.value})}),document.querySelector('[name="snap"]').addEventListener("click",()=>{let e=u.snap(),t=document.createElement("canvas");t.setAttribute("width",400),t.setAttribute("height",300),t.getContext("2d").putImageData(e,0,0),t.classList.add("cell","camera-thumbnail"),(null!==a.querySelector("img")||a.querySelectorAll("canvas").length>=12)&&(a.innerHTML=""),a.appendChild(t)}),Array.from(document.querySelectorAll('[name="format"]')).forEach(e=>{e.addEventListener("change",()=>{l()})}),document.querySelector('[name="quality"]').addEventListener("input",()=>{l()})},function(e,t,r){}]);